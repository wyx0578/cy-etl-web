<form nz-form [nzLayout]="'inline'" class="search-form" style="margin-bottom: 0px;">
    <div nz-form-item>
        <div nz-form-label><label>描述</label></div>
        <div nz-form-control>
            <nz-input [(ngModel)]="s.desc" name="desc"></nz-input>
        </div>
    </div>
    <div nz-form-item>
        <div nz-form-label><label>前置JOB</label></div>
        <div nz-form-control>
            <nz-input [(ngModel)]="s.preJob" name="preJob"></nz-input>
        </div>
    </div>
    <div nz-form-item>
        <div nz-form-label><label>状态</label></div>
        <div nz-form-control>
            <nz-select [(ngModel)]="s.s" name="s" [nzAllowClear]="false">
                <nz-option nzValue="" nzLabel="请选择"></nz-option>
                <nz-option nzValue="1" nzLabel="正常执行"></nz-option>
                <nz-option nzValue="2" nzLabel="暂停/作废"></nz-option>
            </nz-select>
        </div>
    </div>
    <div nz-form-item>
        <div nz-form-label><label>执行方式</label></div>
        <div nz-form-control>
            <nz-select [(ngModel)]="s.s" name="s" [nzAllowClear]="false">
                <nz-option nzValue="" nzLabel="请选择"></nz-option>
                <nz-option nzValue="1" nzLabel="自动"></nz-option>
                <nz-option nzValue="2" nzLabel="手动"></nz-option>
            </nz-select>
        </div>
    </div>
    <div nz-form-item>
        <div nz-form-control>
            <button nz-button (click)="load(true)">搜索</button>
        </div>
    </div>
    <div nz-form-item>
        <div nz-form-control>
            <button nz-button (click)="addOrEdit('-1')">新增scheduler</button>
        </div>
    </div>
</form>
<nz-table #nzTable class="simple-table"
          [nzAjaxData]="dependcyConfData"
          [nzLoading]="http.loading"
          [nzTotal]="total"
          [(nzPageIndex)]="s.pi"
          [(nzPageSize)]="s.ps"
          (nzPageIndexChange)="load()"
          [nzBordered]="true"
          [nzSize]="'middle'">
    <thead nz-thead>
        <tr>
            <th nz-th>schedulerId</th>
            <th nz-th>描述</th>
            <th nz-th>状态</th>
            <th nz-th>执行类型</th>
            <th nz-th>执行类型切换</th>
            <th nz-th>重试次数</th>
            <th nz-th>开始时间</th>
            <th nz-th>结束时间</th>
            <th nz-th>节点管理页</th>
            <th nz-th>历史记录</th>
            <th nz-th>修改</th>
            <th nz-th>删除</th>
        </tr>
    </thead>
    <tbody nz-tbody>
        <tr nz-tbody-tr *ngFor="let item of nzTable.data">
            <td>{{item.schedulerId}}</td>
            <td>{{item.desc}}</td>
            <td>{{item.status}}</td>
            <td>{{item.runType}}</td>
            <td>切换</td>
            <td>{{item.num}}</td>
            <td>{{item.startDate}}</td>
            <td>{{item.endDate}}</td>
            <td>节点</td>
            <td><a (click)="openHistoryRecord(item)">历史</a></td>
            <td>修改</td>
            <td>删除</td>
        </tr>
    </tbody>
</nz-table>
